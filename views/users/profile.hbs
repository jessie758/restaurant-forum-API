<div class="p-5">
  {{!-- user profile --}}
  <div class='row gx-4'>
    <div class='col-4'>
      {{#if user.image}}
        <img
          class='img-responsive center-block'
          src='{{user.image}}'
          alt='user image'
          style='width: 100%; height: 100%; transition: opacity 0.5s; opacity:0;'
          onload='this.style.opacity=1;'
        />
      {{else}}
        <img
          class='img-responsive center-block'
          src='https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png'
          alt='user image placeholder'
          style='width: 100%; height: 100%; transition: opacity 0.5s; opacity:0;'
          onload='this.style.opacity=1;'
        />
      {{/if}}
    </div>
    <div class='col-8'>
      <h4 class='fw-bold'>{{user.name}}</h4>
      <p>{{user.email}}</p>
      <div>{{commentedRestaurantNumber}} 已評論餐廳</div>
      <div>{{user.FavoritedRestaurants.length}} 收藏的餐廳</div>
      <div>{{user.Followings.length}} 追蹤中</div>
      <div>{{user.Followers.length}} 追蹤者</div>
      <a class='btn btn-primary mt-4' href='/users/{{user.id}}/edit'>Edit</a>
    </div>
  </div>

  {{!-- user statistics --}}
  <div class='row gx-4 mt-5'>
    <div class="col-4">
      {{!-- user followings --}}
      <div class='card'>
        <div class='card-header py-3'>
          <div class='d-flex align-items-center'>
            <div>{{user.Followings.length}} 追蹤中</div>
          </div>
        </div>
        <div class='card-body py-3'>
          <div class='d-flex align-items-center'>
            {{#each user.Followings}}
            <a href='/users/{{this.id}}' class='ms-3'>
              {{#if this.image}}
                <img class='img-responsive center-block' src='{{this.image}}' alt='user image'
                  style='width: 50px; height: 50px; transition: opacity 0.5s; opacity:0;' onload='this.style.opacity=1;' />
              {{else}}
                <img class='img-responsive center-block'
                  src='https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png' alt='user image'
                  style='width: 50px; height: 50px; transition: opacity 0.5s; opacity:0;' onload='this.style.opacity=1;' />
              {{/if}}
            </a>
            {{/each}}
          </div>
        </div>
      </div>
      {{!-- user followers --}}
      <div class='card mt-3'>
        <div class='card-header py-3'>
          <div class='d-flex align-items-center'>
            <div>{{user.Followers.length}} 追蹤者</div>
          </div>
        </div>
        <div class='card-body py-3'>
          <div class='d-flex align-items-center'>
            {{#each user.Followers}}
            <a href='/users/{{this.id}}' class='ms-3'>
              {{#if this.image}}
                <img class='img-responsive center-block' src='{{this.image}}' alt='user image'
                  style='width: 50px; height: 50px; transition: opacity 0.5s; opacity:0;' onload='this.style.opacity=1;' />
              {{else}}
                <img class='img-responsive center-block'
                  src='https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png' alt='user image'
                  style='width: 50px; height: 50px; transition: opacity 0.5s; opacity:0;' onload='this.style.opacity=1;' />
              {{/if}}
            </a>
            {{/each}}
          </div>
        </div>
      </div>
    </div>

    <div class="col-8">
      {{!-- user comments --}}
      <div class='card'>
        <div class='card-header py-3'>
          <div class='d-flex align-items-center'>
            <div>{{commentedRestaurantNumber}} 已評論餐廳</div>
            <div class='ms-4'>{{user.Comments.length}} 評論總數</div>
          </div>
        </div>
        <div class='card-body py-3'>
          <div class='d-flex align-items-center'>
            {{#each user.Comments}}
              <a href='/restaurants/{{this.Restaurant.id}}' class='ms-3'>
                <img
                  class='img-responsive center-block'
                  src='{{this.Restaurant.image}}'
                  alt='user image'
                  style='width: 50px; height: 50px; transition: opacity 0.5s; opacity:0;'
                  onload='this.style.opacity=1;'
                />
              </a>
            {{/each}}
          </div>
        </div>
      </div>
      {{!-- user favorites --}}
      <div class='card mt-3'>
        <div class='card-header py-3'>
          <div class='d-flex align-items-center'>
            <div>{{user.FavoritedRestaurants.length}} 收藏的餐廳</div>
          </div>
        </div>
        <div class='card-body py-3'>
          <div class='d-flex align-items-center'>
            {{#each user.FavoritedRestaurants}}
            <a href='/restaurants/{{this.id}}' class='ms-3'>
              <img
                class='img-responsive center-block'
                src='{{this.image}}'
                alt='user image'
                style='width: 50px; height: 50px; transition: opacity 0.5s; opacity:0;'
                onload='this.style.opacity=1;'
              />
            </a>
            {{/each}}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>